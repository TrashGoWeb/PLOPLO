<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="treetest.css">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript"></script>
    <link rel="stylesheet" href="selfcheck.css">
    <title>PLOPLO</title>
</head>
<body>
    <!--div nav-->
    <div id="nav">
        <ul class="nav-container">
            
            <li class="nav-home"><img src="image/logo2.png" onClick="location.href='main.html'" width="180" height="60"></li>
            
            <li class="nav-item" id="act2">ACTIVITY<ul class="nav-container-in">
              <li class="nav-item-in"><a href="selfcheck.html">SELF CHECK</a></li>
              <li class="nav-item-in"><a href="ploggingcourse.html">PLOGGING COURSE</a></li>
            </ul></li>
  
            <li class="nav-item" id="act1">COMUNITY<ul class="nav-container-in">
              <li class="nav-item-in"><a href="list_announce.html">공지사항</a></li>
              <li class="nav-item-in"><a href="list.html">자유게시판</a></li>
            </ul></li>
            
            <li class="nav-item"><a href="aboutus.html">ABOUT US</a></li>
            <li class="nav-item"><a href="treetest.html">TREE TEST</a></li>
        </ul>
        
    </div>
    

    <div class="container-fluid text-center selfcheck">
        <div class="container-fluid text-center intro">
            <h2 class="bigtxt">Self Check</h2>
            <p class="subtxt0"><img src="image/selfcheck/checkicon.png" class="icon">자신이 실천해 본 친환경 활동을 클릭하고, 하단의 '내 환경 점수 보기' 버튼을 눌러보세요!</p>
        </div>

     <br><br><br><br><br><br>

    <div class="select">
        <div class="item-container">
        <div>
            <div class="item" onclick="itemclick(this, 1, 1)"><img src="image/selfcheck/1.png" width="250px" height="250px"><br><p class="ds">개인텀블러나 물병을 사용한다.</p></div>
            <div class="item" onclick="itemclick(this, 2, 1)"><img src="image/selfcheck/2.png" width="250px" height="250px"><br><p class="ds">병의 라벨과 뚜껑은 따로 버린다.</p></div>
            <div class="item" onclick="itemclick(this, 3, 1)"><img src="image/selfcheck/3.png" width="250px" height="250px"><br><p class="ds">구매 전 친환경 마크를 확인한다.</p></div>
            <div class="item" onclick="itemclick(this, 4, 1)"><img src="image/selfcheck/4.png" width="250px" height="250px"><br><p class="ds">재활용품은 세척해서 버린다.</p></div>
            <div class="item" onclick="itemclick(this, 5, 1)"><img src="image/selfcheck/5.png" width="250px" height="250px"><br><p class="ds">박스의 테이프를 떼서 버린다.</p></div>
            <div class="item" onclick="itemclick(this, 6, 1)"><img src="image/selfcheck/6.png" width="250px" height="250px"><br><p class="ds">장을 볼 때 장바구니를 항상 챙긴다.</p></div>
            <div class="item" onclick="itemclick(this, 7, 1)"><img src="image/selfcheck/7.png" width="250px" height="250px"><br><p class="ds">환경 관련 매체를 구독한다.</p></div>
            <div class="item" onclick="itemclick(this, 8, 1)"><img src="image/selfcheck/8.png" width="250px" height="250px"><br><p class="ds">양치컵을 사용하고 물을 절약한다.</p></div>
            <div class="item" onclick="itemclick(this, 9, 1)"><img src="image/selfcheck/9.png" width="250px" height="250px"><br><p class="ds">에너지 절약형 전구를 사용한다.</p></div>
            <div class="item" onclick="itemclick(this, 10, 1)"><img src="image/selfcheck/10.png" width="250px" height="250px"><br><p class="ds">사용하지 않는 전기는 뽑는다.</p></div>
            <div class="item" onclick="itemclick(this, 11, 1)"><img src="image/selfcheck/11.png" width="250px" height="250px"><br><p class="ds">친환경 섬유 유연제를 사용한다.</p></div>
            <div class="item" onclick="itemclick(this, 12, 1)"><img src="image/selfcheck/12.png" width="250px" height="250px"><br><p class="ds">가까운 거리는 걷거나 자전거를 탄다.</p></div>
            <div class="item" onclick="itemclick(this, 13, 1)"><img src="image/selfcheck/13.png" width="250px" height="250px"><br><p class="ds">필요없는 1회용품 이용을 거절한다.</p></div>
            <div class="item" onclick="itemclick(this, 14, 1)"><img src="image/selfcheck/14.png" width="250px" height="250px"><br><p class="ds">업사이클링 제품을 사용한다.</p></div>
            <div class="item" onclick="itemclick(this, 15, 1)"><img src="image/selfcheck/15.png" width="250px" height="250px"><br><p class="ds">자연 분해되는 물건을 사용한다.</p></div>
        </div>
    </div> <!--item container-->
    <button type="button" class="btn btn-outline-success btn-lg title-btn" id="gotest">내 환경 점수 보기</button>
    <br><br><br>
    <div id="result">
    </div>
    </div> <!--select-->
    


</div><!--self check 닫음-->

<div class="footer">
    <a href="https://www.chungbuk.ac.kr/site/www/main.do"><img src="image/cbnu.png" height="50px"></a> 
    <a href="https://software.cbnu.ac.kr/"><img src="image/cbnusw.png" height="50px"></a> 
    <a href="https://github.com/dotoooo22"><img src="image/dotom.png" height="50px"></a> 
    <a href="https://github.com/sohenney"><img src="image/henny.png" height="50px"></a> 
    <a href="https://github.com/leesj6368"><img src="image/ju.png" height="50px"></a> 
    
    <p class="footerdes">2023년 3-1 오픈소스 웹소프트웨어<br>
        (28644)충청북도 청주시 서원구 충대로 1<br>
        (이용 문의) PLOPLO@chungbuk.ac.kr<br>
        E-mail : PLOPLO@chungbuk.ac.kr<br>
        <p>Copyright © PLOPLO. All Rights Reserved.</p>
    
  </div>

    <script>
        var state_img = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
        var item_name = ["", "개인텀블러나 물병을 사용한다.", "병의 라벨과 뚜껑은 따로 버린다.", "구매 전 친환경 마크를 확인한다.", "재활용품은 세척해서 버린다.", 
        "박스의 테이프를 떼서 버린다.", "장을 볼 때 장바구니를 항상 챙긴다.", "환경 관련 매체를 구독한다.", "양치컵을 사용하고, 물을 절약한다.",
         "에너지 절약형 전구를 사용한다.", "사용하지 않는 전기는 뽑는다.", "친환경 섬유 유연제를 사용한다.", "가까운 거리는 걷거나 자전거를 탄다.", 
         "필요없는 1회용품 이용을 거절한다.", "업사이클링 제품을 사용한다.", "자연 분해되는 물건을 사용한다."]
        var total_price=0;
        var buylist = ""; // 선택한 활동을 저장할 변수

        function itemclick(who, n, price){

            if(state_img[n]==0) {
                who.getElementsByTagName('img')[0].src = "image/logo2.png";
                total_price += price;
                state_img[n] = 1;
                buylist += item_name[n] + " ";
            }else {
                who.getElementsByTagName('img')[0].src = "image/selfcheck/" + n.toString() + ".png"
                total_price -= price;
                state_img[n] = 0;
                var activityRegex = new RegExp(item_name[n] + "\\s?");
                buylist = buylist.replace(activityRegex, ""); 
            }
        }

        function showScore() {
            var score = total_price; // 점수 계산 값 (total_price 변수)
            var scoreImage = ""; // 점수에 따른 이미지 파일명

            if (score >= 1 && score <= 4) {
                scoreImage = "image/selfcheck/pointds1.png";
            }
            if (score >= 5 && score <= 8) {
                scoreImage = "image/selfcheck/pointds2.png";
            }
            if (score >= 9 && score <= 12) {
                scoreImage = "image/selfcheck/pointds3.png";
            }
            if (score >= 13 && score <= 15) {
                scoreImage = "image/selfcheck/pointds4.png";
            }

            // 결과를 표시할 요소
             var resultElement = document.getElementById("result");

            // 결과 요소를 초기화
            resultElement.innerHTML = "";

            // 선택된 것이 없을때
            if (scoreImage === "") {
                var messageElement = document.createElement("p");
                messageElement.textContent = "선택된 것이 없습니다" ;
                messageElement.style.color="black";
                messageElement.style.fontSize="medium";
                resultElement.appendChild(messageElement);
                return;
    }

            // 이미지를 표시할 요소를 가져와서 이미지를 설정
            var imageElement = document.createElement("img");
            imageElement.src = scoreImage;
            imageElement.alt = "Score Image";
            imageElement.style.width = "500px";
            imageElement.style.height = "500px";

            // 점수를 출력하는 요소를 가져와서 점수를 설정.
            var scoreElement = document.createElement("p");
            scoreElement.textContent = "나의 환경 점수 : " + score + "점";
            scoreElement.style.fontSize="x-large";
            scoreElement.style.fontWeight = "bold";

            // 선택된 내용을 표시하는 요소를 가져와서 선택된 내용을 설정합니다.
            var selectedElement = document.createElement("p");
            selectedElement.textContent = "참여한 활동 : " + "" + buylist + "\n"; // 선택된 내용을 buylist에 저장해야 합니다.
            selectedElement.style.width = "500px";
            selectedElement.style.border = "1px solid #FFD4D4"
            selectedElement.style.borderRadius = "10px";
            selectedElement.style.padding = "20px 20px"
            selectedElement.style.textAlign = "center";
            selectedElement.style.margin = "auto";
            selectedElement.style.marginTop = "20px"
            selectedElement.style.color="black";
            selectedElement.style.fontSize="small";

            // 결과 요소에 이미지, 점수, 선택된 내용을 추가   
            resultElement.appendChild(scoreElement);
            resultElement.appendChild(imageElement);
            resultElement.appendChild(selectedElement);
}

            // 버튼 클릭 시 showScore() 함수 호출
            document.getElementById("gotest").addEventListener("click", showScore);


        /*nav*/   
        $(document).ready(function(){
        $("#nav").mouseenter(function(){
        $("#nav").height(200);
        $(".nav-container-in").show();
        
});
        $("#nav").mouseleave(function(){
        $(".nav-container-in").hide();
        $("#nav").height(80);

 });
});

        /*hover background js*/
        var buttons = document.querySelectorAll('.item');

        buttons.forEach(function(button) {
            button.addEventListener('mouseover', function() {
                button.style.backgroundColor = '#f8dede';
            });
            button.addEventListener('mouseout', function() {
                button.style.backgroundColor = '';
            });
        });
    </script>

</body>
</html>
